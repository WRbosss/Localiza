<script type="module">
  import { alertController } from 'https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/index.esm.js';
  window.alertController = alertController;
</script>

<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start" color="#9bd6ba">
      <ion-button id="color" (click)="button_Voltar()" color="#9bd6ba">
        <ion-icon slot="" name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title id="color">Alugue</ion-title>
    <ion-buttons slot="end">
    </ion-buttons>
  </ion-toolbar>

  <ion-content [fullscreen]="true">
    <div>
      <ul style = "list-style: none;" class="divCompra">
        <li><ion-img class="transparent" src="{{a_car.car.foto}}"></ion-img></li>
        <li><ion-label>{{a_car.car.marca}}</ion-label></li>
        <li class="li"><ion-label><h1>{{a_car.car.modelo}}</h1></ion-label></li>
        <li class="li"><ion-label>{{a_car.car.descricao}}</ion-label></li>
      </ul>
    </div>

    <ion-item id="open-initialdate-modal" >
      <ion-icon icon="calendar-outline" slot="start" id="colorDateTime"></ion-icon>
      <ion-label id="color">Data de retirada:</ion-label>
      <ion-text slot="end">{{initial_date}}</ion-text>
    </ion-item>

    <ion-item id="open-finaldate-modal" *ngIf="initial_date_not_null">
      <ion-icon icon="calendar" slot="start" id="colorDateTime"></ion-icon>
      <ion-label>Data de devolução:</ion-label>
      <ion-text slot="end">{{final_date}}</ion-text>
    </ion-item>

    <ion-modal trigger="open-initialdate-modal">
      <ng-template>
        <ion-content>
          <ion-datetime [value]="initial_date_value" #datetime size="cover" 
            (ionChange)="initialdate_changed(datetime.value)" showDefaultButtons="true">
          </ion-datetime>

        </ion-content>
      </ng-template>
    </ion-modal>

    <ion-modal trigger="open-finaldate-modal" *ngIf="initial_date_not_null" >
      <ng-template>
        <ion-content>
          <ion-datetime [value]="final_date_value" #datetime size="cover"
            (ionChange)="finaldate_changed(datetime.value)" showDefaultButtons="true">
          </ion-datetime>

        </ion-content>
      </ng-template>
    </ion-modal>

    <div id="padding">
    <ion-button *ngIf="final_date_not_null" expand="block" fill="outline" id="buttonD" color="greenyellow" 
    (click)="presentAlert()">Alugar
    </ion-button>
    </div>

  </ion-content>